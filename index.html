---
layout: default
title: Home
description: jQuery plugin for user friendly query/filter creator
isHome: true
---

<div class="alert alert-info">
  <b>Comming from version 1.4.x ?</b> Check the <a href="{{site.github.url}}/dev/migrate-14-20.html">migration guide</a>.
</div>

<section class="bs-docs-section clearfix">
  <h1 id="overview" class="page-header">
    Overview
  </h1>

  <blockquote>QueryBuilder is an UI component to create queries and filters.</blockquote>

  <ul>
    <li>It can be used on advanced search engine pages, administration backends, etc.</li>
    <li>It is highly customisable and is pluggable to many jQuery widgets like autocompleters, sliders and datepickers.</li>
    <li>It outputs a structured JSON of rules which can be easily parsed to create SQL/NoSQL/whatever queries.</li>
    <li>And it also comes with a <i>great</i> set of <i>great</i> <a href="{{site.github.url}}/plugins.html">plugins</a> for even more features.</li>
  </ul>
  
  <b>But let's look at a live example !</b>
  <div class="col-md-12 col-lg-10 col-lg-offset-1">
    <div id="builder-basic"></div>
    <p class="text-center">The full code of this example can be found <a href="{{site.github.url}}/demo.html">here</a>.</p>
  </div>
</section>


<section class="bs-docs-section">
  <h1 id="installation" class="page-header">
    Installation
  </h1>
  
  <h3 id="dependencies">Dependencies</h3>
  <ul>
      <li><a href="http://jquery.com">jQuery >= 1.9</a></li>
      <li><a href="http://getbootstrap.com">Bootstrap >= 3.1</a> (CSS Buttons and Utilities only)</li>
      <li><a href="https://github.com/mistic100/jQuery.extendext">$.extendext</a></li>
      <li><a href="http://momentjs.com">MomentJS</a> (optional, for Date/Time validation)</li>
      <li>Other Bootstrap components used by plugins</li>
  </ul>

  <h3 id="letsgo">Let's go!</h3>
  <p>Include <a href="{{site.rawSourceUrl}}/dist/css/query-builder.default.min.css" target="_blank">query-builder.css</a> in your page head and <a href="{{site.rawSourceUrl}}/dist/js/query-builder.min.js" target="_blank">query-builder.js</a> after dependencies. Then add QueryBuilder to any <code>&lt;div></code> you want.</p>
  
{% highlight html %}
<div id="builder"></div>

<script>
  $('#builder').queryBuilder({
    filters: [ ... ]
  });
</script>
{% endhighlight %}

  <p>QueryBuilder can also be used with CommonJS :</p>

{% highlight js %}
require(['jquery', 'query-builder'], function($) {
  $('#builder').queryBuilder({
    filters: [ ... ]
  });
});
{% endhighlight %}

  <p>A <a href="{{site.rawSourceUrl}}/dist/js/query-builder.standalone.min.js" target="_blank">standalone</a> version is available, it ships MicroEvent and $.extendext (you still need to add jQuery and Bootstrap).</p>
</section>


<section class="bs-docs-section">
  <h1 id="usage" class="page-header">
    Usage
  </h1>

  <h3 id="options">Options</h3>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th style="width: 130px;">Name</th>
          <th style="width: 100px;">type</th>
          <th style="width: 150px;">default</th>
          <th>description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>filters</td>
          <td>object[]</td>
          <td><span class="label label-danger">required</span></td>
          <td>Array of available filters in the builder. <a href="#filters">See below</a>.</td>
        </tr>
        <tr>
          <td>plugins</td>
          <td>object</td>
          <td></td>
          <td>Configuration of plugins. See the <a href="{{site.github.url}}/plugins.html">page about plugins</a>.</td>
        </tr>
        <tr>
          <td>allow_groups</td>
          <td>boolean|int</td>
          <td>true</td>
          <td>Number of allowed nested groups. <code>true</code> for no limit.</td>
        </tr>
        <tr>
          <td>allow_empty</td>
          <td>boolean</td>
          <td>false</td>
          <td>No error will be thrown is the builder is entirely empty.</td>
        </tr>
        <tr>
          <td>display_errors</td>
          <td>boolean</td>
          <td>true</td>
          <td>When an error occurs on a rule, display an icon <i class="glyphicon glyphicon-warning-sign"></i> with a tooltip explaining the error.</td>
        </tr>
        <tr>
          <td>conditions</td>
          <td>string[]</td>
          <td>['AND', 'OR']</td>
          <td>Array of available group conditions. Use the <code>lang</code> option to change the label.</td>
        </tr>
        <tr>
          <td>default_condition</td>
          <td>string</td>
          <td>'AND'</td>
          <td>Default active condition.</td>
        </tr>
        <tr>
          <td>inputs_separator</td>
          <td>string</td>
          <td>' , '</td>
          <td>Piece of HTML used to separate multiple inputs (for <code>between</code> operator).</td>
        </tr>
        <tr>
          <td>select_placeholder</td>
          <td>string</td>
          <td>'------'</td>
          <td>Label of the "no filter" option.</td>
        </tr>
        <tr>
          <td>operators</td>
          <td>object[]</td>
          <td></td>
          <td>Configuration of operators. <a href="#operators">See below</a>.</td>
        </tr>
        <tr>
          <td>lang</td>
          <td>object</td>
          <td><i>english</i></td>
          <td>Array of translatable strings. <a href="#lang">See below</a>.</td>
        </tr>
        <tr>
          <td>icons</td>
          <td>object</td>
          <td><i>glyphicons</i></td>
          <td>Font-icons used in the builder. Defaults to using Glyphicons. <a href="#icons">See below</a>.</td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <h3 id="filters">Filters</h3>
  <p>The <code>filters</code> option is an array of plain objects defining the rules possible contents. Here are the available attributes:</p>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th style="width: 130px;">Name</th>
          <th style="width: 100px;">type</th>
          <th style="width: 150px;">default</th>
          <th>description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>id</td>
          <td>string</td>
          <td><span class="label label-danger">required</span></td>
          <td>Unique identifier of the filter.</td>
        </tr>
        <tr>
          <td>field</td>
          <td>string</td>
          <td><code>=id</code></td>
          <td>Field used by the filter, multiple filters can use the same field.</td>
        </tr>
        <tr>
          <td>label</td>
          <td>string</td>
          <td><code>=field</code></td>
          <td>Label used to display the filter.</td>
        </tr>
        <tr>
          <td>optgroup</td>
          <td>string</td>
          <td>null</td>
          <td>Optional label of an <code>&lt;optgroup&gt;</code> in the filters dropdown.</td>
        </tr>
        <tr>
          <td>type</td>
          <td>string</td>
          <td><span class="label label-danger">required</span></td>
          <td>Type of the field. Available types are <code>string</code>, <code>integer</code>, <code>double</code>, <code>date</code>, <code>time</code>, <code>datetime</code> and <code>boolean</code>.</td>
        </tr>
        <tr>
          <td>input</td>
          <td>string|function</td>
          <td>'text'</td>
          <td>Type of input used. Available types are <code>text</code>, <code>textarea</code>, <code>radio</code>, <code>checkbox</code> and <code>select</code>.<br>
            It can also be a function which returns the HTML of the said input, this function takes 2 parameters:
            <ul>
              <li><code>rule</code> a <b>Rule</b> object</li>
              <li><code>input_name</code> the name of the input</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>values</td>
          <td>array|object</td>
          <td><span class="label label-warning">required*</span></td>
          <td><i>Required for <code>radio</code> and <code>checkbox</code> inputs. Generally needed for <code>select</code> inputs.</i><br>
            <button class="btn btn-primary btn-xs" data-bootbox="filter_values_details">More details</button>
            <div id="filter_values_details" class="hidden" title="Filter values">
              <p>Three forms are allowed for the <code>values</code> object.</p>
              <ol>
                <li>Simple array of values, labels will be the values.
{% highlight js %}
values: ['one', 'two', 'three']
{% endhighlight %}
                </li>
                <li>Key-value object, keys are input values and values and labels.
{% highlight js %}
values: {
  'one': 'Un',
  'two': 'Deux',
  'three': 'Trois'
}
{% endhighlight %}
                </li>
                <li>Because the order of key-value objects is uncertain, you can also use an array of one-element objects.
{% highlight js %}
values: [
  {'one': 'Un'},
  {'two': 'Deux'},
  {'three': 'Trois'}
]
{% endhighlight %}
                </li>
              </ol>
            </div>
          </td>
        </tr>
        <tr>
          <td>default_value</td>
          <td>mixed</td>
          <td></td>
          <td>As it says :-)</td>
        </tr>
        <tr>
          <td>size</td>
          <td>int</td>
          <td></td>
          <td><i>Only for <code>text</code> and <code>textarea</code> inputs:</i> horizontal size of the input.</td>
        </tr>
        <tr>
          <td>rows</td>
          <td>int</td>
          <td></td>
          <td><i>Only for <code>textarea</code> inputs:</i> vertical size of the input.</td>
        </tr>
        <tr>
          <td>multiple</td>
          <td>boolean</td>
          <td>false</td>
          <td><i>Only for <code>select</code> inputs:</i> accept multiple values.</td>
        </tr>
        <tr>
          <td>placeholder</td>
          <td>string</td>
          <td></td>
          <td><i>Only for <code>text</code> and <code>textarea</code> inputs:</i> placeholder to display inside the input.</td>
        </tr>
        <tr>
          <td>vertical</td>
          <td>boolean</td>
          <td>false</td>
          <td><i>Only for <code>radio</code> and <code>checkbox</code> inputs:</i> display inputs vertically on not horizontally.</td>
        </tr>
        <tr>
          <td>validation</td>
          <td>object</td>
          <td></td>
          <td>Object of options for rule validation. <a href="#validation">See below</a>.</td>
        </tr>
        <tr>
          <td>operators</td>
          <td>array</td>
          <td></td>
          <td>Array of operators types to use for this filter. If empty the filter will use all applicable operators.<br>
            <button class="btn btn-primary btn-xs" data-bootbox="default_operators">Show all operators</button>
            <div id="default_operators" title="All operators" class="hidden">
              <ul>
                <li>equal</li>
                <li>not_equal</li>
                <li>in</li>
                <li>not_in</li>
                <li>less</li>
                <li>less_or_equal</li>
                <li>greater</li>
                <li>greater_or_equal</li>
                <li>etween</li>
                <li>begins_with</li>
                <li>not_begins_with</li>
                <li>contains</li>
                <li>not_contains</li>
                <li>ends_with</li>
                <li>not_ends_with</li>
                <li>is_empty</li>
                <li>is_not_empty</li>
                <li>is_null</li>
                <li>is_not_null</li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>plugin</td>
          <td>string</td>
          <td>null</td>
          <td>Name of a jQuery plugin to apply on the input.</td>
        </tr>
        <tr>
          <td>plugin_config</td>
          <td>object</td>
          <td>{}</td>
          <td>Object of parameters to pass to the plugin.</td>
        </tr>
        <tr>
          <td>data</td>
          <td>object</td>
          <td></td>
          <td>Additionnal data not use by QueryBuilder but that will be added to the output rules object. Use this to store any functional data you need.</td>
        </tr>
        <tr>
          <td>valueParser</td>
          <td>function</td>
          <td>null</td>
          <td>Modifier applied to each value in <code>getRules</code> function. It will be called after teh default process. It takes 2 parameters:
            <ul>
              <li><code>rule</code> the <b>Rule</b> object</li>
              <li><code>value</code></li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>valueSetter</td>
          <td>function</td>
          <td>null</td>
          <td>Function used to set the input(s) value in <code>getRules</code> function. If provided the default function is not run. It takes 2 parameters:
            <ul>
              <li><code>rule</code> the <b>Rule</b> object</li>
              <li><code>value</code></li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <h3 id="validation">Validation</h3>
  <p>QueryBuilder integrates a configurable validation system triggered when <code>validate</code> or <code>getRules</code> methods are called. The default validator checks for emptyness and can be extended with format check and bounds.<br>
  Optionally you can define a custom validation callback.</p>

  <p>Here are the available attributes of the <code>validation</code> field of each filter:</p>
  
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th style="width: 130px;">Name</th>
          <th style="width: 100px;">type</th>
          <th>description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>format</td>
          <td>string|object</td>
          <td>
            <ul>
              <li>For <code>date</code>, <code>time</code>, <code>datetime</code>: a valid <a href="http://momentjs.com/docs/#/parsing/string-format/">MomentJS string format</a></li>
              <li>For <code>string</code>: a regular expression (plain or RegExp object)</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>min</td>
          <td>integer|double|string</td>
          <td>
            <ul>
              <li>For <code>integer</code>, <code>double</code>: minimum value</li>
              <li>For <code>date</code>, <code>time</code>, <code>datetime</code>: minimum value, respecting <code>format</code></li>
              <li>For <code>string</code>: minimum length</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>max</td>
          <td>integer|double|string</td>
          <td>
            <ul>
              <li>For <code>integer</code>, <code>double</code>: maximum value</li>
              <li>For <code>date</code>, <code>time</code>, <code>datetime</code>: maximum value, respecting <code>format</code></li>
              <li>For <code>string</code>: maximum length</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>step</td>
          <td>integer|double</td>
          <td>
            <ul>
              <li>For <code>integer</code>, <code>double</code>: step value (for <code>double</code> you should always provide this value in order to pass the browser validation on <code>number</code> inputs)</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>callback</td>
          <td>function</td>
          <td>A function used to perform the validation. If provided, the default validation will not be performed. It must returns <code>true</code> if the value is valid or an error string otherwise. It takes 2 parameters:
            <ul>
              <li><code>value</code></li>
              <li><code>rule</code> the <b>Rule</b> object</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <h3 id="methods">Methods</h3>
  <h4>validate</h4>
  <p>Returns a boolean whereas the builder is valid or not. Use the <code>validationError</code> event to catch per-rule validation errors. If <code>display_errors</code> is enabled the invalid rules will turn red.</p>

  <h4>getRules</h4>
  <p>Performs validation and returns the rules as a plain JSON object. See the <a href="{{site.github.url}}/demo.html">demo</a> for output example.</p>
{% highlight javascript %}
$('#builder').queryBuilder('getRules')
{% endhighlight %}

  <div class="bs-callout bs-callout-info">
    <h4>Other formats</h4>
    <p>For other output formats like <b>SQL</b> and <b>MongoDB</b>, please refer to the <a href="{{site.github.url}}/plugins.html#import-export">plugins</a> page.</p>
  </div>
  
  <h4>setRules</h4>
  <p>Clears the builder and set new rules. The parameters must have the same structure has the output of <code>getRules</code>.</p>
{% highlight javascript %}
$('#builder').queryBuilder('setRules', { ... })
{% endhighlight %}

  <p>Each rule can have an additional <code>data</code> parameter wich will be merge with the filter data when calling <code>getRules</code>.</p>

  <p>Each rule can have an additional <code>flags</code> parameter which will control the editability of the rule.</p>

  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th style="width: 130px;">Property</th>
          <th style="width: 100px;">type</th>
          <th style="width: 100px;">default</th>
          <th>description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>filter_readonly</td>
          <td>boolean</td>
          <td>false</td>
          <td>The filter select box is disabled.</td>
        </tr>
        <tr>
          <td>operator_readonly</td>
          <td>boolean</td>
          <td>false</td>
          <td>The operator select box is disabled.</td>
        </tr>
        <tr>
          <td>value_readonly</td>
          <td>boolean</td>
          <td>false</td>
          <td>The value inputs are disabled.</td>
        </tr>
        <tr>
          <td>no_delete</td>
          <td>boolean</td>
          <td>false</td>
          <td>The rule can't be deleted. <b>A group containing an undeletable rule can't deleted</b>.</td>
        </tr>
      </tbody>
    </table>
  </div>

  <p>Alternatively you set the <code>readonly</code> parameter to <code>true</code>, which is a shorthand to:</p>
{% highlight javascript %}
{
    filter_readonly: true,
    operator_readonly: true,
    value_readonly: true,
    no_delete: true
}
{% endhighlight %}
  
  <h4>reset</h4>
  <p>Removes all rules.</p>
{% highlight javascript %}
$('#builder').queryBuilder('reset')
{% endhighlight %}
  
  <h4>destroy</h4>
  <p>Completely destroy the builder and it's data.</p>
{% highlight javascript %}
$('#builder').queryBuilder('destroy')
{% endhighlight %}
  
  <h3 id="events">Events</h3>
  <p>QueryBuilder uses events to notify the "outer world" about various things happening, like adding a rule or when a validation error happens. The events system is also used by plugins.</p>

  <p><a class="btn btn-primary" href="{{site.github.url}}/dev/events.html">Read more about events</a></p>
  
  <h3 id="themes">Themes</h3>
  <p>QueryBuilder comes with two colors-schemes: <a href="{{site.rawSourceUrl}}/dist/css/query-builder.default.min.css">default</a> (clear) and <a href="{{site.rawSourceUrl}}/dist/css/query-builder.dark.min.css">dark</a>. Change the active theme only by switching stylesheet, you cannot use the two colors-schemes on the same page.</p>
</section>

<section class="bs-docs-section">
  <h1 id="advanced" class="page-header">
    Advanced
  </h1>
  
  <h3 id="operators">Operators</h3>
  <p>You can define the list of operators available in the query builder. It's an array of plain objects.</p>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th style="width: 130px;">Property</th>
          <th style="width: 100px;">type</th>
          <th>description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>type</td>
          <td>string</td>
          <td>Identifier of the operator, use the <code>lang.operators</code> to translate give a human readable name to your operator.</td>
        </tr>
        <tr>
          <td>nb_inputs</td>
          <td>int</td>
          <td>The number of inputs displayed. Typical values are <code>0</code> (<code>is_null</code> &amp; similar operators),
            <code>1</code> (most operators) and <code>2</code> (<code>between</code> operator).
          </td>
        </tr>
        <tr>
          <td>multiple</td>
          <td>boolean</td>
          <td>Inform the builder that each input can have multiple values. <code>true</code> for
            <code>in, bot_in</code>, <code>false</code> otherwise.
          </td>
        </tr>
        <tr>
          <td>apply_to</td>
          <td>array</td>
          <td>An array containing <code>string</code>, <code>number</code>, <code>datetime</code>, <code>boolean</code>.</td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <p>Check the default operators configuration <a href="{{site.sourceUrl}}/src/defaults.js#L107-127">in the source code</a>.</p>
  
  <h3 id="lang">Translation</h3>
  <p>Translation files are available in the <a href="https://github.com/mistic100/jQuery-QueryBuilder/tree/master/dist/i18n">i18n</a> folder. Just include one of the files after the main JavaScript to use it.<p>

  <p>Available languages are (some partially translated) :<br>
    <i class="flag flag-de"></i> German
    <i class="flag flag-dk"></i> Danish
    <i class="flag flag-es"></i> Spanish
    <i class="flag flag-fr"></i> French
    <i class="flag flag-gb"></i> English
    <i class="flag flag-it"></i> Italian
    <i class="flag flag-nl"></i> Dutch
    <i class="flag flag-no"></i> Norwegian
    <i class="flag flag-pl"></i> Polish
    <i class="flag flag-pt"></i> Portuguese
    <i class="flag flag-ro"></i> Romanian
    <i class="flag flag-ru"></i> Rusian
  </p>

  <p>Alternatively you can overwrite some translations with the <code>lang</code> option. It is very useful for custom operators and conditions.<br>
  Default english strings <a href="{{site.sourceUrl}}/src/i18n/en.json#1">in the source code</a>.</p>

  <h3 id="icons">Icons</h3>
  <p>The <code>icons</code> option provides a way of using alternate icons sets. Available attributes:</p>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th style="width: 150px;">Name</th>
          <th style="width: 100px;">type</th>
          <th>default</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>add_group</td>
          <td>string</td>
          <td>'glyphicon glyphicon-plus-sign'</td>
        </tr>
        <tr>
          <td>add_rule</td>
          <td>string</td>
          <td>'glyphicon glyphicon-plus'</td>
        </tr>
        <tr>
          <td>remove_group</td>
          <td>string</td>
          <td>'glyphicon glyphicon-remove'</td>
        </tr>
        <tr>
          <td>remove_rule</td>
          <td>string</td>
          <td>'glyphicon glyphicon-remove'</td>
        </tr>
        <tr>
          <td>error</td>
          <td>string</td>
          <td>'glyphicon glyphicon-warning-sign'</td>
        </tr>
      </tbody>
    </table>
  </div>

  <h3 id="inside_the_box">Inside the box</h3>
  <p>You might have noticed that callbacks and events reffer to two objects <b>Rule</b> and <b>Group</b>. These objects are part of the data model with partial data-binding used internally by QueryBuilder. Here the structure of these two objects. Most attributes will live-update the builder when modified.</p>

  <div class="container-fluid">
    <div class="col-sm-6">
      <div id="tree-common"></div>
    </div>
    <div class="col-sm-6">
      <div id="tree-rule"></div>
      <div id="tree-group"></div>
    </div>
  </div>

  <h3 id="build">Custom build</h3>
  <p>The distributed version of QueryBuilder (in <code>dist</code> directory) contains all plugins and is English only. You can run the Grunt task provided with the library to select which plugins to include and load another language.</p>

  <ul>
    <li><code>--modules</code>: comma separated list of plugins or <b>false</b></li>
    <li><code>--lang</code>: language code.</li>
  </ul>

{% highlight bash %}
# list available plugins and languages
grunt list_modules

# build QueryBuilder in French with SQL Support and BT Tooltip Errors plugins only
grunt --modules=sql-support,bt-tooltip-errors --lang=fr

# build QueryBuilder in Deutsch with no modules
grunt --modules=false --lang=de
{% endhighlight %}
</section>


<link href="{{site.github.url}}/dist/bootstrap-treeview/dist/bootstrap-treeview.min.css" rel="stylesheet">
<link href="{{site.github.url}}/dist/jQuery-QueryBuilder/dist/css/query-builder.default.min.css" rel="stylesheet">
<link href="{{site.github.url}}/assets/flags/flags.css" rel="stylesheet">

<style>
.flag { display: inline-block; }
</style>

<script src="{{site.github.url}}/dist/bootstrap-treeview/dist/bootstrap-treeview.min.js"></script>
<script src="{{site.github.url}}/dist/jQuery-QueryBuilder/dist/js/query-builder.standalone.min.js"></script>
<script src="{{site.github.url}}/assets/demo-basic.js"></script>
<script src="{{site.github.url}}/assets/index.js"></script>